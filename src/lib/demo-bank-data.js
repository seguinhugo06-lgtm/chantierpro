/**
 * Demo data for bank connection feature
 * Realistic French bank data for demo/showcase mode
 *
 * Transactions are designed to match some DEMO_DEVIS factures
 * for testing the reconciliation engine
 */

// ============================================================================
// French bank institutions (subset for demo)
// ============================================================================

export const DEMO_INSTITUTIONS = [
  { id: 'CREDIT_AGRICOLE_CARIDF', name: 'Crédit Agricole', logo: 'https://cdn.nordigen.com/ais/CREDIT_AGRICOLE_CARIDF.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'BOURSORAMA_BOUSFRPP', name: 'BoursoBank (Boursorama)', logo: 'https://cdn.nordigen.com/ais/BOURSORAMA_BOUSFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'BNP_PARIBAS_BNPAFRPP', name: 'BNP Paribas', logo: 'https://cdn.nordigen.com/ais/BNP_PARIBAS_BNPAFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'SOCIETE_GENERALE_SOGEFRPP', name: 'Société Générale', logo: 'https://cdn.nordigen.com/ais/SOCIETE_GENERALE_SOGEFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'LA_BANQUE_POSTALE_PSSTFRPP', name: 'La Banque Postale', logo: 'https://cdn.nordigen.com/ais/LA_BANQUE_POSTALE_PSSTFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'CAISSE_EPARGNE_CEPAFRPP', name: 'Caisse d\'Épargne', logo: 'https://cdn.nordigen.com/ais/CAISSE_EPARGNE_CEPAFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'CIC_CMCIFRPP', name: 'CIC', logo: 'https://cdn.nordigen.com/ais/CIC_CMCIFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'CREDIT_MUTUEL_CMCIFR2A', name: 'Crédit Mutuel', logo: 'https://cdn.nordigen.com/ais/CREDIT_MUTUEL_CMCIFR2A.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'LCL_CRLYFRPP', name: 'LCL', logo: 'https://cdn.nordigen.com/ais/LCL_CRLYFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'HELLO_BANK_BNPAFRPP', name: 'Hello bank!', logo: 'https://cdn.nordigen.com/ais/HELLO_BANK_BNPAFRPP.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'FORTUNEO_FTNOFRP1', name: 'Fortuneo', logo: 'https://cdn.nordigen.com/ais/FORTUNEO_FTNOFRP1.png', countries: ['FR'], transaction_total_days: 90 },
  { id: 'BANQUE_POPULAIRE_CCBPFRPP', name: 'Banque Populaire', logo: 'https://cdn.nordigen.com/ais/BANQUE_POPULAIRE_CCBPFRPP.png', countries: ['FR'], transaction_total_days: 90 },
];

// ============================================================================
// Demo bank connection
// ============================================================================

export const DEMO_BANK_CONNECTION = {
  id: 'demo-conn-1',
  user_id: 'demo-user-id',
  institution_id: 'CREDIT_AGRICOLE_CARIDF',
  institution_name: 'Crédit Agricole',
  institution_logo: 'https://cdn.nordigen.com/ais/CREDIT_AGRICOLE_CARIDF.png',
  requisition_id: 'demo-req-001',
  requisition_status: 'linked',
  account_id: 'demo-account-001',
  iban: 'FR7618206000413456789012345',
  owner_name: 'SARL Bâti Plus',
  currency: 'EUR',
  last_balance: 15432.67,
  last_balance_at: new Date().toISOString(),
  last_sync_at: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), // 2h ago
  expires_at: new Date(Date.now() + 85 * 24 * 60 * 60 * 1000).toISOString(), // 85 days
  created_at: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
};

// ============================================================================
// Demo transactions (90 days, designed to match some demo factures/dépenses)
// ============================================================================

function daysAgo(n) {
  const d = new Date();
  d.setDate(d.getDate() - n);
  return d.toISOString().split('T')[0];
}

export const DEMO_BANK_TRANSACTIONS = [
  // === CREDITS (incoming payments - some match demo factures) ===

  // Matches FAC-2025-015 (Bernard, peinture T3) = 2 337.50 €
  {
    id: 'tx-c1',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2025-C001',
    booking_date: daysAgo(58),
    value_date: daysAgo(57),
    amount: 2337.50,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'BERNARD SOPHIE',
    remittance_info: 'Virement FAC-2025-015 peinture appartement',
    transaction_type: 'credit',
    reconciled: true,
    reconciled_entity_type: 'facture',
    reconciled_entity_id: 'd3',
    reconciliation_confidence: 0.95,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(58),
  },

  // Matches FAC-2025-012 (Garcia, terrasse) = 7 480.00 €
  {
    id: 'tx-c2',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2025-C002',
    booking_date: daysAgo(65),
    value_date: daysAgo(64),
    amount: 7480.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'GARCIA ELENA',
    remittance_info: 'Reglement facture terrasse bois',
    transaction_type: 'credit',
    reconciled: true,
    reconciled_entity_type: 'facture',
    reconciled_entity_id: 'd7',
    reconciliation_confidence: 0.90,
    reconciliation_method: 'auto_reference',
    created_at: daysAgo(65),
  },

  // Matches FAC-2026-001 (Rousseau, acompte studio) = 3 740.00 € — SUGGESTION, not yet reconciled
  {
    id: 'tx-c3',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-C003',
    booking_date: daysAgo(20),
    value_date: daysAgo(19),
    amount: 3740.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'ROUSSEAU CLAIRE',
    remittance_info: 'Virement acompte travaux studio',
    transaction_type: 'credit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: 0.82,
    reconciliation_method: null,
    created_at: daysAgo(20),
  },

  // Unknown credit - client not in system
  {
    id: 'tx-c4',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-C004',
    booking_date: daysAgo(12),
    value_date: daysAgo(11),
    amount: 1250.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'MOREAU PATRICK',
    remittance_info: 'Depot travaux sdb',
    transaction_type: 'credit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(12),
  },

  // Acompte Dubois (partial match)
  {
    id: 'tx-c5',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-C005',
    booking_date: daysAgo(8),
    value_date: daysAgo(7),
    amount: 9240.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'SCI DUBOIS',
    remittance_info: 'Acompte 30% renovation T4 Strasbourg',
    transaction_type: 'credit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: 0.70,
    reconciliation_method: null,
    created_at: daysAgo(8),
  },

  // Small credit - trop petit, pas de match
  {
    id: 'tx-c6',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-C006',
    booking_date: daysAgo(3),
    value_date: daysAgo(2),
    amount: 180.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: 'DURAND ALAIN',
    remittance_info: 'Depannage plomberie urgence',
    transaction_type: 'credit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(3),
  },

  // === DEBITS (outgoing payments - some match demo depenses) ===

  // Matches dep1 (Carrelage cuisine) = 520 €
  {
    id: 'tx-d1',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D001',
    booking_date: daysAgo(36),
    value_date: daysAgo(36),
    amount: -520.00,
    currency: 'EUR',
    creditor_name: 'LEROY MERLIN PARIS',
    debtor_name: null,
    remittance_info: 'CB LEROY MERLIN carrelage sol cuisine',
    transaction_type: 'debit',
    reconciled: true,
    reconciled_entity_type: 'depense',
    reconciled_entity_id: 'dep1',
    reconciliation_confidence: 0.92,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(36),
  },

  // Matches dep2 (Robinetterie) = 380 €
  {
    id: 'tx-d2',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D002',
    booking_date: daysAgo(34),
    value_date: daysAgo(34),
    amount: -380.00,
    currency: 'EUR',
    creditor_name: 'CEDEO PLOMBERIE',
    debtor_name: null,
    remittance_info: 'Robinetterie cuisine haut de gamme',
    transaction_type: 'debit',
    reconciled: true,
    reconciled_entity_type: 'depense',
    reconciled_entity_id: 'dep2',
    reconciliation_confidence: 0.85,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(34),
  },

  // Matches dep3 (Electromenager) = 1 850 €
  {
    id: 'tx-d3',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D003',
    booking_date: daysAgo(30),
    value_date: daysAgo(30),
    amount: -1850.00,
    currency: 'EUR',
    creditor_name: 'BOULANGER',
    debtor_name: null,
    remittance_info: 'Electromenager cuisine equipee Dupont',
    transaction_type: 'debit',
    reconciled: true,
    reconciled_entity_type: 'depense',
    reconciled_entity_id: 'dep3',
    reconciliation_confidence: 0.95,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(30),
  },

  // Matches dep11 (Tuyaux cuivre) = 890 € — suggestion
  {
    id: 'tx-d4',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D004',
    booking_date: daysAgo(28),
    value_date: daysAgo(28),
    amount: -890.00,
    currency: 'EUR',
    creditor_name: 'POINT P MATERIAUX',
    debtor_name: null,
    remittance_info: 'Achat tuyaux cuivre plomberie',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: 0.78,
    reconciliation_method: null,
    created_at: daysAgo(28),
  },

  // Matches dep12 (Tableau electrique) = 1 250 € — suggestion
  {
    id: 'tx-d5',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D005',
    booking_date: daysAgo(26),
    value_date: daysAgo(26),
    amount: -1250.00,
    currency: 'EUR',
    creditor_name: 'REXEL FRANCE',
    debtor_name: null,
    remittance_info: 'Tableau electrique + disjoncteurs',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: 0.80,
    reconciliation_method: null,
    created_at: daysAgo(26),
  },

  // Regular recurring - loyer atelier
  {
    id: 'tx-d6',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D006',
    booking_date: daysAgo(15),
    value_date: daysAgo(15),
    amount: -850.00,
    currency: 'EUR',
    creditor_name: 'SCI LES ATELIERS',
    debtor_name: null,
    remittance_info: 'Loyer atelier février 2026',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(15),
  },

  // Carburant
  {
    id: 'tx-d7',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D007',
    booking_date: daysAgo(10),
    value_date: daysAgo(10),
    amount: -95.40,
    currency: 'EUR',
    creditor_name: 'TOTALENERGIES',
    debtor_name: null,
    remittance_info: 'CB TOTAL station Gambetta',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(10),
  },

  // Assurance
  {
    id: 'tx-d8',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D008',
    booking_date: daysAgo(5),
    value_date: daysAgo(5),
    amount: -245.00,
    currency: 'EUR',
    creditor_name: 'AXA ASSURANCES',
    debtor_name: null,
    remittance_info: 'Cotisation RC Pro + Decennale février',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(5),
  },

  // Frais bancaires
  {
    id: 'tx-d9',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D009',
    booking_date: daysAgo(2),
    value_date: daysAgo(2),
    amount: -12.50,
    currency: 'EUR',
    creditor_name: 'CREDIT AGRICOLE',
    debtor_name: null,
    remittance_info: 'Frais tenue de compte février',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(2),
  },

  // Achat matériaux divers
  {
    id: 'tx-d10',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D010',
    booking_date: daysAgo(1),
    value_date: daysAgo(1),
    amount: -327.80,
    currency: 'EUR',
    creditor_name: 'CASTORAMA',
    debtor_name: null,
    remittance_info: 'CB CASTORAMA outillage divers',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(1),
  },

  // Loyer mois précédent
  {
    id: 'tx-d11',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D011',
    booking_date: daysAgo(45),
    value_date: daysAgo(45),
    amount: -850.00,
    currency: 'EUR',
    creditor_name: 'SCI LES ATELIERS',
    debtor_name: null,
    remittance_info: 'Loyer atelier janvier 2026',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(45),
  },

  // Téléphone pro
  {
    id: 'tx-d12',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D012',
    booking_date: daysAgo(7),
    value_date: daysAgo(7),
    amount: -29.99,
    currency: 'EUR',
    creditor_name: 'ORANGE SA',
    debtor_name: null,
    remittance_info: 'Forfait mobile pro février',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(7),
  },

  // Matches dep4 (Receveur douche) = 450 €
  {
    id: 'tx-d13',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D013',
    booking_date: daysAgo(24),
    value_date: daysAgo(24),
    amount: -450.00,
    currency: 'EUR',
    creditor_name: 'RICHARDSON SDB',
    debtor_name: null,
    remittance_info: 'Receveur douche italienne extra-plat',
    transaction_type: 'debit',
    reconciled: true,
    reconciled_entity_type: 'depense',
    reconciled_entity_id: 'dep4',
    reconciliation_confidence: 0.92,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(24),
  },

  // Matches dep5 (Carrelage mural) = 680 €
  {
    id: 'tx-d14',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D014',
    booking_date: daysAgo(23),
    value_date: daysAgo(23),
    amount: -680.00,
    currency: 'EUR',
    creditor_name: 'LEROY MERLIN LYON',
    debtor_name: null,
    remittance_info: 'Carrelage mural sdb Martin',
    transaction_type: 'debit',
    reconciled: true,
    reconciled_entity_type: 'depense',
    reconciled_entity_id: 'dep5',
    reconciliation_confidence: 0.88,
    reconciliation_method: 'auto_amount',
    created_at: daysAgo(23),
  },

  // Virement salaire (pas de match - charges sociales)
  {
    id: 'tx-d15',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D015',
    booking_date: daysAgo(18),
    value_date: daysAgo(18),
    amount: -3200.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: null,
    remittance_info: 'VIR SALAIRE MOREAU PIERRE JAN 2026',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(18),
  },

  {
    id: 'tx-d16',
    user_id: 'demo-user-id',
    bank_connection_id: 'demo-conn-1',
    transaction_id: 'GC-2026-D016',
    booking_date: daysAgo(18),
    value_date: daysAgo(18),
    amount: -2600.00,
    currency: 'EUR',
    creditor_name: null,
    debtor_name: null,
    remittance_info: 'VIR SALAIRE LEROY THOMAS JAN 2026',
    transaction_type: 'debit',
    reconciled: false,
    reconciled_entity_type: null,
    reconciled_entity_id: null,
    reconciliation_confidence: null,
    reconciliation_method: null,
    created_at: daysAgo(18),
  },
];
